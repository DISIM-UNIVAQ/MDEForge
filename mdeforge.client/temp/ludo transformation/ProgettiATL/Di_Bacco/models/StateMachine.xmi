<?xml version="1.0" encoding="ASCII"?>
<statemachineMM:StateMachine
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:statemachineMM="http://www.di.univaq.it/mde/smMM"
    xsi:schemaLocation="http://www.di.univaq.it/mde/smMM ../../MDE_stateMachine/model/MySM.ecore"
    label="ATM"
    starts="//@states.0"
    finishes="//@states.5/@substatemachine/@states.0">
  <states xsi:type="statemachineMM:Initial"
      label="s0"/>
  <states xsi:type="statemachineMM:Simple"
      label="s1"/>
  <states xsi:type="statemachineMM:Simple"
      label="s2"/>
  <states xsi:type="statemachineMM:Simple"
      label="s3"/>
  <states xsi:type="statemachineMM:Simple"
      label="s4"/>
  <states xsi:type="statemachineMM:Composed"
      label="s5">
    <substatemachine
        label="exitP"
        starts="//@states.5/@substatemachine/@states.1"
        finishes="//@states.5/@substatemachine/@states.0">
      <states
          xsi:type="statemachineMM:Final"
          label="s8"/>
      <states
          xsi:type="statemachineMM:Initial"
          label="s6"/>
      <states
          xsi:type="statemachineMM:Simple"
          label="s7"/>
      <transitions
          label="t9"
          source="//@states.5/@substatemachine/@states.2"
          destination="//@states.5/@substatemachine/@states.0">
        <triggeredBy
            label="carta_ritirata"/>
        <triggeredBy
            label="timeout"/>
      </transitions>
      <transitions
          label="t8"
          source="//@states.5/@substatemachine/@states.1"
          destination="//@states.5/@substatemachine/@states.2">
        <triggeredBy
            label="init"/>
      </transitions>
    </substatemachine>
  </states>
  <transitions
      label="t1"
      source="//@states.0"
      destination="//@states.1">
    <triggeredBy
        label="carta_inserita"/>
  </transitions>
  <transitions
      label="t2"
      source="//@states.1"
      destination="//@states.2">
    <triggeredBy
        label="pin_digitato"/>
  </transitions>
  <transitions
      label="t3"
      source="//@states.2"
      destination="//@states.3">
    <triggeredBy
        label="prelievo"/>
  </transitions>
  <transitions
      label="t4"
      source="//@states.2"
      destination="//@states.4">
    <triggeredBy
        label="saldo"/>
  </transitions>
  <transitions
      label="t5"
      source="//@states.4"
      destination="//@states.2">
    <triggeredBy
        label="return"/>
  </transitions>
  <transitions
      label="t6"
      source="//@states.4"
      destination="//@states.5">
    <triggeredBy
        label="exit"/>
  </transitions>
  <transitions
      label="t7"
      source="//@states.3"
      destination="//@states.5">
    <triggeredBy
        label="exit"/>
  </transitions>
</statemachineMM:StateMachine>
