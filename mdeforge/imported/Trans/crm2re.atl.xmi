<?xml version="1.0" encoding="ASCII"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="4:1-75:2" name="crm2re">
    <commentsBefore>-- @path REMM=/crm2re/model/metamodels/RealEstateMM.ecore</commentsBefore>
    <commentsBefore>-- @path CRMMM=/crm2re/model/metamodels/CRMMM.ecore</commentsBefore>
    <inModels location="5:24-5:34" name="IN" metamodel="/2"/>
    <outModels location="5:8-5:18" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:Helper" location="7:1-10:8">
      <definition location="7:8-10:7">
        <feature xsi:type="ocl:Operation" location="7:37-10:7" name="isCustomer">
          <returnType xsi:type="ocl:BooleanType" location="7:52-7:59"/>
          <body xsi:type="ocl:IfExp" location="8:2-10:7">
            <thenExpression xsi:type="ocl:BooleanExp" location="8:47-8:51" booleanSymbol="true"/>
            <condition xsi:type="ocl:OperatorCallExp" location="8:5-8:41" operationName="not">
              <source xsi:type="ocl:OperationCallExp" location="8:9-8:41" operationName="oclIsTypeOf">
                <source xsi:type="ocl:VariableExp" location="8:9-8:13" referredVariable="/4"/>
                <arguments xsi:type="ocl:OclModelElement" location="8:26-8:40" name="Customer" model="/5"/>
              </source>
            </condition>
            <elseExpression xsi:type="ocl:BooleanExp" location="9:7-9:12"/>
          </body>
        </feature>
        <context_ location="7:8-7:31">
          <context_ xsi:type="ocl:OclModelElement" location="7:16-7:31" name="CRMPerson" model="/3"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="12:1-19:8">
      <definition location="12:8-19:7">
        <feature xsi:type="ocl:Attribute" location="12:35-19:7" name="contactType">
          <initExpression xsi:type="ocl:IfExp" location="13:2-19:7">
            <thenExpression xsi:type="ocl:OperationCallExp" location="13:41-13:61" operationName="toString">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="13:41-13:50" name="type">
                <source xsi:type="ocl:VariableExp" location="13:41-13:45" referredVariable="/8"/>
              </source>
            </thenExpression>
            <condition xsi:type="ocl:OperatorCallExp" location="13:5-13:35" operationName="=">
              <source xsi:type="ocl:OperationCallExp" location="13:5-13:25" operationName="toString">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="13:5-13:14" name="type">
                  <source xsi:type="ocl:VariableExp" location="13:5-13:9" referredVariable="/7"/>
                </source>
              </source>
              <arguments xsi:type="ocl:StringExp" location="13:28-13:35" stringSymbol="email"/>
            </condition>
            <elseExpression xsi:type="ocl:IfExp" location="15:3-18:8">
              <thenExpression xsi:type="ocl:OperationCallExp" location="15:41-15:61" operationName="toString">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:41-15:50" name="type">
                  <source xsi:type="ocl:VariableExp" location="15:41-15:45" referredVariable="/10"/>
                </source>
              </thenExpression>
              <condition xsi:type="ocl:OperatorCallExp" location="15:6-15:35" operationName="=">
                <source xsi:type="ocl:OperationCallExp" location="15:6-15:26" operationName="toString">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="15:6-15:15" name="type">
                    <source xsi:type="ocl:VariableExp" location="15:6-15:10" referredVariable="/9"/>
                  </source>
                </source>
                <arguments xsi:type="ocl:StringExp" location="15:29-15:35" stringSymbol="call"/>
              </condition>
              <elseExpression xsi:type="ocl:StringExp" location="17:4-17:11" stringSymbol="other"/>
            </elseExpression>
          </initExpression>
          <type xsi:type="ocl:StringType" location="12:48-12:54"/>
        </feature>
        <context_ location="12:8-12:29">
          <context_ xsi:type="ocl:OclModelElement" location="12:16-12:29" name="Contact" model="/6"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="21:1-21:49">
      <definition location="21:8-21:48">
        <feature xsi:type="ocl:Attribute" location="21:13-21:48" name="rename">
          <initExpression xsi:type="ocl:OclUndefinedExp" location="21:36-21:48"/>
          <type xsi:type="ocl:OclModelElement" location="21:21-21:35" name="CRMModel" model="/11"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="23:1-33:2" name="CRMModel2RealEstateModel">
      <outPattern location="26:2-29:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="27:3-29:4" varName="c" variableExp="/0/@elements.3/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="27:6-27:26" name="RealEstateModel" model="/13"/>
          <bindings location="28:4-28:16" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="28:10-28:16" name="name">
              <source xsi:type="ocl:VariableExp" location="28:10-28:11" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="30:2-32:3">
        <statements xsi:type="atl:BindingStat" location="31:3-31:24">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="31:3-31:20" name="rename">
            <source xsi:type="ocl:VariableExp" location="31:3-31:13" referredVariable="/14"/>
          </source>
          <value xsi:type="ocl:VariableExp" location="31:22-31:23" referredVariable="/0/@elements.3/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="24:2-25:20">
        <elements xsi:type="atl:SimpleInPatternElement" location="25:3-25:20" varName="s" variableExp="/0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="25:6-25:20" name="CRMModel" model="/12"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="35:1-45:2" name="Person2Customer">
      <outPattern location="38:2-44:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="39:3-44:4" varName="c">
          <type xsi:type="ocl:OclModelElement" location="39:6-39:19" name="Customer" model="/16"/>
          <bindings location="40:4-40:28" propertyName="firstname">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="40:17-40:28" name="firstName">
              <source xsi:type="ocl:VariableExp" location="40:17-40:18" referredVariable="/0/@elements.4/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="41:4-41:26" propertyName="lastname">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="41:16-41:26" name="lastName">
              <source xsi:type="ocl:VariableExp" location="41:16-41:17" referredVariable="/0/@elements.4/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="42:4-42:15" propertyName="QoS">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="42:11-42:15" name="LS">
              <source xsi:type="ocl:VariableExp" location="42:11-42:12" referredVariable="/0/@elements.4/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="43:4-43:32" propertyName="remodel">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="43:15-43:32" name="rename">
              <source xsi:type="ocl:VariableExp" location="43:15-43:25" referredVariable="/17"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="36:2-37:42">
        <elements xsi:type="atl:SimpleInPatternElement" location="37:3-37:21" varName="s" variableExp="/0/@elements.4/@inPattern/@filter/@source/@source /0/@elements.4/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.4/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.4/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="37:6-37:21" name="CRMPerson" model="/15"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="37:23-37:41" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="37:27-37:41" operationName="isCustomer">
            <source xsi:type="ocl:VariableExp" location="37:27-37:28" referredVariable="/0/@elements.4/@inPattern/@elements.0"/>
          </source>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="47:1-58:2" name="Person2SystemUser">
      <outPattern location="50:2-57:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="51:3-57:4" varName="c">
          <type xsi:type="ocl:OclModelElement" location="51:6-51:21" name="SystemUser" model="/19"/>
          <bindings location="52:4-52:28" propertyName="firstname">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="52:17-52:28" name="firstName">
              <source xsi:type="ocl:VariableExp" location="52:17-52:18" referredVariable="/0/@elements.5/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="53:4-53:26" propertyName="lastname">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="53:16-53:26" name="lastName">
              <source xsi:type="ocl:VariableExp" location="53:16-53:17" referredVariable="/0/@elements.5/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="54:4-54:23" propertyName="username">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="54:16-54:23" name="login">
              <source xsi:type="ocl:VariableExp" location="54:16-54:17" referredVariable="/0/@elements.5/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="55:4-55:23" propertyName="role">
            <value xsi:type="ocl:StringExp" location="55:12-55:23" stringSymbol="Undefined"/>
          </bindings>
          <bindings location="56:4-56:32" propertyName="remodel">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="56:15-56:32" name="rename">
              <source xsi:type="ocl:VariableExp" location="56:15-56:25" referredVariable="/20"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="48:2-49:38">
        <elements xsi:type="atl:SimpleInPatternElement" location="49:3-49:21" varName="s" variableExp="/0/@elements.5/@inPattern/@filter/@source /0/@elements.5/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.5/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.5/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="49:6-49:21" name="CRMPerson" model="/18"/>
        </elements>
        <filter xsi:type="ocl:OperationCallExp" location="49:23-49:37" operationName="isCustomer">
          <source xsi:type="ocl:VariableExp" location="49:23-49:24" referredVariable="/0/@elements.5/@inPattern/@elements.0"/>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="60:1-75:2" name="Contact2Deal">
      <outPattern location="63:2-74:4">
        <elements xsi:type="atl:SimpleOutPatternElement" location="64:3-74:4" varName="c">
          <type xsi:type="ocl:OclModelElement" location="64:6-64:15" name="Deal" model="/22"/>
          <bindings location="65:4-65:18" propertyName="date">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="65:12-65:18" name="date">
              <source xsi:type="ocl:VariableExp" location="65:12-65:13" referredVariable="/0/@elements.6/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="66:4-66:21" propertyName="details">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="66:15-66:21" name="text">
              <source xsi:type="ocl:VariableExp" location="66:15-66:16" referredVariable="/0/@elements.6/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="67:4-67:17" propertyName="amount">
            <value xsi:type="ocl:RealExp" location="67:14-67:17"/>
          </bindings>
          <bindings location="68:4-68:23" propertyName="status">
            <value xsi:type="ocl:StringExp" location="68:14-68:23" stringSymbol="standBy"/>
          </bindings>
          <bindings location="69:4-69:26" propertyName="customer">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="69:16-69:26" name="customer">
              <source xsi:type="ocl:VariableExp" location="69:16-69:17" referredVariable="/0/@elements.6/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="70:4-70:34" propertyName="systemuser">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="70:18-70:34" name="registeredUser">
              <source xsi:type="ocl:VariableExp" location="70:18-70:19" referredVariable="/0/@elements.6/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="71:4-71:25" propertyName="type">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="71:12-71:25" name="contactType">
              <source xsi:type="ocl:VariableExp" location="71:12-71:13" referredVariable="/0/@elements.6/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="72:4-72:16" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="72:12-72:16" name="id">
              <source xsi:type="ocl:VariableExp" location="72:12-72:13" referredVariable="/0/@elements.6/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="73:4-73:32" propertyName="remodel">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="73:15-73:32" name="rename">
              <source xsi:type="ocl:VariableExp" location="73:15-73:25" referredVariable="/23"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="61:2-62:19">
        <elements xsi:type="atl:SimpleInPatternElement" location="62:3-62:19" varName="s" variableExp="/0/@elements.6/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.6/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.6/@outPattern/@elements.0/@bindings.4/@value/@source /0/@elements.6/@outPattern/@elements.0/@bindings.5/@value/@source /0/@elements.6/@outPattern/@elements.0/@bindings.6/@value/@source /0/@elements.6/@outPattern/@elements.0/@bindings.7/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="62:6-62:19" name="Contact" model="/21"/>
        </elements>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="5:14-5:18" name="REMM" model="/0/@outModels.0"/>
  <ocl:OclModel location="5:29-5:34" name="CRMMM" model="/0/@inModels.0"/>
  <ocl:OclModel location="7:16-7:21" name="CRMMM" elements="/0/@elements.0/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="8:9-8:13" varName="self" variableExp="/0/@elements.0/@definition/@feature/@body/@condition/@source/@source"/>
  <ocl:OclModel location="8:26-8:31" name="CRMMM" elements="/0/@elements.0/@definition/@feature/@body/@condition/@source/@arguments.0"/>
  <ocl:OclModel location="12:16-12:21" name="CRMMM" elements="/0/@elements.1/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="13:5-13:9" varName="self" variableExp="/0/@elements.1/@definition/@feature/@initExpression/@condition/@source/@source/@source"/>
  <ocl:VariableDeclaration location="13:41-13:45" varName="self" variableExp="/0/@elements.1/@definition/@feature/@initExpression/@thenExpression/@source/@source"/>
  <ocl:VariableDeclaration location="15:6-15:10" varName="self" variableExp="/0/@elements.1/@definition/@feature/@initExpression/@elseExpression/@condition/@source/@source/@source"/>
  <ocl:VariableDeclaration location="15:41-15:45" varName="self" variableExp="/0/@elements.1/@definition/@feature/@initExpression/@elseExpression/@thenExpression/@source/@source"/>
  <ocl:OclModel location="21:21-21:26" name="CRMMM" elements="/0/@elements.2/@definition/@feature/@type"/>
  <ocl:OclModel location="25:6-25:11" name="CRMMM" elements="/0/@elements.3/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="27:6-27:10" name="REMM" elements="/0/@elements.3/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="31:3-31:13" varName="thisModule" variableExp="/0/@elements.3/@actionBlock/@statements.0/@source/@source"/>
  <ocl:OclModel location="37:6-37:11" name="CRMMM" elements="/0/@elements.4/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="39:6-39:10" name="REMM" elements="/0/@elements.4/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="43:15-43:25" varName="thisModule" variableExp="/0/@elements.4/@outPattern/@elements.0/@bindings.3/@value/@source"/>
  <ocl:OclModel location="49:6-49:11" name="CRMMM" elements="/0/@elements.5/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="51:6-51:10" name="REMM" elements="/0/@elements.5/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="56:15-56:25" varName="thisModule" variableExp="/0/@elements.5/@outPattern/@elements.0/@bindings.4/@value/@source"/>
  <ocl:OclModel location="62:6-62:11" name="CRMMM" elements="/0/@elements.6/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="64:6-64:10" name="REMM" elements="/0/@elements.6/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="73:15-73:25" varName="thisModule" variableExp="/0/@elements.6/@outPattern/@elements.0/@bindings.8/@value/@source"/>
</xmi:XMI>
