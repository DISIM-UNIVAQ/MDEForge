<?xml version="1.0" encoding="ASCII"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="4:1-185:2" name="statemachine2calculussystem">
    <commentsBefore>-- @ ccsMM=/MDE_statemachine2calculussystem/metamodel/ccsMM.ecore</commentsBefore>
    <commentsBefore>-- @ stateMachineMM=/MDE_statemachine2calculussystem/metamodel/statemachineMM.ecore</commentsBefore>
    <inModels location="5:25-5:44" name="IN" metamodel="/2"/>
    <outModels location="5:8-5:19" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:Helper" location="11:1-11:41">
      <commentsBefore>------------------------------------------------------------------------------------------------------</commentsBefore>
      <commentsBefore>-- HELPER</commentsBefore>
      <commentsBefore>------------------------------------------------------------------------------------------------------</commentsBefore>
      <commentsBefore>-- mantain a global refer to CCS system</commentsBefore>
      <commentsAfter>-- true if the State has exactly one outgoing transition			</commentsAfter>
      <definition location="11:8-11:40">
        <feature xsi:type="ocl:Attribute" location="11:13-11:40" name="CCS">
          <initExpression xsi:type="ocl:OclUndefinedExp" location="11:28-11:40"/>
          <type xsi:type="ocl:OclModelElement" location="11:18-11:27" name="CCS" model="/3"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="14:1-18:31">
      <commentsBefore>-- true if the State has exactly one outgoing transition			</commentsBefore>
      <commentsAfter>--true if the State has more than one outgoing transitions	</commentsAfter>
      <definition location="14:8-18:30">
        <feature xsi:type="ocl:Operation" location="14:49-18:30" name="hasSingleTransition">
          <returnType xsi:type="ocl:BooleanType" location="14:72-14:79"/>
          <body xsi:type="ocl:LetExp" location="15:2-18:30">
            <variable location="15:6-16:80" varName="transitionOutList" variableExp="/0/@elements.1/@definition/@feature/@body/@in_/@source/@source">
              <type xsi:type="ocl:SetType" location="15:26-15:56">
                <elementType xsi:type="ocl:OclModelElement" location="15:30-15:55" name="Transition" model="/5"/>
              </type>
              <initExpression xsi:type="ocl:IteratorExp" location="16:3-16:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="16:3-16:43" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="16:3-16:28" name="Transition" model="/6"/>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="16:54-16:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:54-16:68" name="label">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="16:54-16:62" name="source">
                      <source xsi:type="ocl:VariableExp" location="16:54-16:55" referredVariable="/0/@elements.1/@definition/@feature/@body/@variable/@initExpression/@iterators.0"/>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="16:69-16:79" name="label">
                    <source xsi:type="ocl:VariableExp" location="16:69-16:73" referredVariable="/7"/>
                  </arguments>
                </body>
                <iterators location="16:52-16:53" varName="t" variableExp="/0/@elements.1/@definition/@feature/@body/@variable/@initExpression/@body/@source/@source/@source"/>
              </initExpression>
            </variable>
            <in_ xsi:type="ocl:OperatorCallExp" location="18:4-18:30" operationName="=">
              <source xsi:type="ocl:OperationCallExp" location="18:4-18:28" operationName="size">
                <source xsi:type="ocl:VariableExp" location="18:4-18:21" referredVariable="/0/@elements.1/@definition/@feature/@body/@variable"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="18:29-18:30" integerSymbol="1"/>
            </in_>
          </body>
        </feature>
        <context_ location="14:8-14:43">
          <context_ xsi:type="ocl:OclModelElement" location="14:16-14:43" name="StateElement" model="/4"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="21:1-25:30">
      <commentsBefore>--true if the State has more than one outgoing transitions	</commentsBefore>
      <commentsAfter>-- return a ProcessTerm from Transition representing destination ProcessTerm </commentsAfter>
      <definition location="21:8-25:29">
        <feature xsi:type="ocl:Operation" location="21:49-25:29" name="hasMultipleTransition">
          <returnType xsi:type="ocl:BooleanType" location="21:74-21:81"/>
          <body xsi:type="ocl:LetExp" location="22:2-25:29">
            <variable location="22:6-23:80" varName="transitionOutList" variableExp="/0/@elements.2/@definition/@feature/@body/@in_/@source/@source">
              <type xsi:type="ocl:SetType" location="22:26-22:56">
                <elementType xsi:type="ocl:OclModelElement" location="22:30-22:55" name="Transition" model="/9"/>
              </type>
              <initExpression xsi:type="ocl:IteratorExp" location="23:3-23:80" name="select">
                <source xsi:type="ocl:OperationCallExp" location="23:3-23:43" operationName="allInstances">
                  <source xsi:type="ocl:OclModelElement" location="23:3-23:28" name="Transition" model="/10"/>
                </source>
                <body xsi:type="ocl:OperatorCallExp" location="23:54-23:79" operationName="=">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="23:54-23:68" name="label">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="23:54-23:62" name="source">
                      <source xsi:type="ocl:VariableExp" location="23:54-23:55" referredVariable="/0/@elements.2/@definition/@feature/@body/@variable/@initExpression/@iterators.0"/>
                    </source>
                  </source>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="23:69-23:79" name="label">
                    <source xsi:type="ocl:VariableExp" location="23:69-23:73" referredVariable="/11"/>
                  </arguments>
                </body>
                <iterators location="23:52-23:53" varName="t" variableExp="/0/@elements.2/@definition/@feature/@body/@variable/@initExpression/@body/@source/@source/@source"/>
              </initExpression>
            </variable>
            <in_ xsi:type="ocl:OperatorCallExp" location="25:3-25:29" operationName=">">
              <source xsi:type="ocl:OperationCallExp" location="25:3-25:27" operationName="size">
                <source xsi:type="ocl:VariableExp" location="25:3-25:20" referredVariable="/0/@elements.2/@definition/@feature/@body/@variable"/>
              </source>
              <arguments xsi:type="ocl:IntegerExp" location="25:28-25:29" integerSymbol="1"/>
            </in_>
          </body>
        </feature>
        <context_ location="21:8-21:43">
          <context_ xsi:type="ocl:OclModelElement" location="21:16-21:43" name="StateElement" model="/8"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="28:1-29:77">
      <commentsBefore>-- return a ProcessTerm from Transition representing destination ProcessTerm </commentsBefore>
      <commentsAfter>-- return a ProcessTerm from Event representing destination ProcessTerm </commentsAfter>
      <definition location="28:8-29:76">
        <feature xsi:type="ocl:Operation" location="28:47-29:76" name="getNextProcess">
          <returnType xsi:type="ocl:OclModelElement" location="28:65-28:82" name="ProcessTerm" model="/13"/>
          <body xsi:type="ocl:OperationCallExp" location="29:2-29:76" operationName="first">
            <source xsi:type="ocl:IteratorExp" location="29:2-29:68" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="29:2-29:27" name="processSet">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="29:2-29:16" name="CCS">
                  <source xsi:type="ocl:VariableExp" location="29:2-29:12" referredVariable="/14"/>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="29:38-29:67" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="29:38-29:44" name="name">
                  <source xsi:type="ocl:VariableExp" location="29:38-29:39" referredVariable="/0/@elements.3/@definition/@feature/@body/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="29:45-29:67" name="label">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="29:45-29:61" name="destination">
                    <source xsi:type="ocl:VariableExp" location="29:45-29:49" referredVariable="/15"/>
                  </source>
                </arguments>
              </body>
              <iterators location="29:36-29:37" varName="e" variableExp="/0/@elements.3/@definition/@feature/@body/@source/@body/@source/@source"/>
            </source>
          </body>
        </feature>
        <context_ location="28:8-28:41">
          <context_ xsi:type="ocl:OclModelElement" location="28:16-28:41" name="Transition" model="/12"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="32:1-33:101">
      <commentsBefore>-- return a ProcessTerm from Event representing destination ProcessTerm </commentsBefore>
      <commentsAfter>-- return a ProcessTerm from Composed representing destination ProcessTerm </commentsAfter>
      <definition location="32:8-33:100">
        <feature xsi:type="ocl:Operation" location="32:42-33:100" name="getNextProcess">
          <returnType xsi:type="ocl:OclModelElement" location="32:60-32:77" name="ProcessTerm" model="/17"/>
          <body xsi:type="ocl:OperationCallExp" location="33:2-33:100" operationName="first">
            <source xsi:type="ocl:IteratorExp" location="33:2-33:92" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:2-33:27" name="processSet">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:2-33:16" name="CCS">
                  <source xsi:type="ocl:VariableExp" location="33:2-33:12" referredVariable="/18"/>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="33:38-33:91" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:38-33:44" name="name">
                  <source xsi:type="ocl:VariableExp" location="33:38-33:39" referredVariable="/0/@elements.4/@definition/@feature/@body/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="33:45-33:91" name="label">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="33:45-33:85" name="destination">
                    <source xsi:type="ocl:OperationCallExp" location="33:45-33:73" operationName="refImmediateComposite">
                      <source xsi:type="ocl:VariableExp" location="33:45-33:49" referredVariable="/19"/>
                    </source>
                  </source>
                </arguments>
              </body>
              <iterators location="33:36-33:37" varName="e" variableExp="/0/@elements.4/@definition/@feature/@body/@source/@body/@source/@source"/>
            </source>
          </body>
        </feature>
        <context_ location="32:8-32:36">
          <context_ xsi:type="ocl:OclModelElement" location="32:16-32:36" name="Event" model="/16"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="36:1-37:88">
      <commentsBefore>-- return a ProcessTerm from Composed representing destination ProcessTerm </commentsBefore>
      <commentsAfter>-- return a set of ProcessTerm from Transition create by its Events using LazyRule</commentsAfter>
      <definition location="36:8-37:87">
        <feature xsi:type="ocl:Operation" location="36:45-37:87" name="getNextProcess">
          <returnType xsi:type="ocl:OclModelElement" location="36:63-36:80" name="ProcessTerm" model="/21"/>
          <body xsi:type="ocl:OperationCallExp" location="37:2-37:87" operationName="first">
            <source xsi:type="ocl:IteratorExp" location="37:2-37:79" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="37:2-37:27" name="processSet">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="37:2-37:16" name="CCS">
                  <source xsi:type="ocl:VariableExp" location="37:2-37:12" referredVariable="/22"/>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="37:38-37:78" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="37:38-37:44" name="name">
                  <source xsi:type="ocl:VariableExp" location="37:38-37:39" referredVariable="/0/@elements.5/@definition/@feature/@body/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="37:45-37:78" name="label">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="37:45-37:72" name="starts">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="37:45-37:65" name="substatemachine">
                      <source xsi:type="ocl:VariableExp" location="37:45-37:49" referredVariable="/23"/>
                    </source>
                  </source>
                </arguments>
              </body>
              <iterators location="37:36-37:37" varName="e" variableExp="/0/@elements.5/@definition/@feature/@body/@source/@body/@source/@source"/>
            </source>
          </body>
        </feature>
        <context_ location="36:8-36:39">
          <context_ xsi:type="ocl:OclModelElement" location="36:16-36:39" name="Composed" model="/20"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="40:1-41:64">
      <commentsBefore>-- return a set of ProcessTerm from Transition create by its Events using LazyRule</commentsBefore>
      <commentsAfter>-- find ProcessTerm from process set in the model</commentsAfter>
      <definition location="40:8-41:63">
        <feature xsi:type="ocl:Operation" location="40:47-41:63" name="getNextProcesses">
          <returnType xsi:type="ocl:SetType" location="40:67-40:89">
            <elementType xsi:type="ocl:OclModelElement" location="40:71-40:88" name="ProcessTerm" model="/25"/>
          </returnType>
          <body xsi:type="ocl:IteratorExp" location="41:2-41:63" name="collect">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="41:2-41:18" name="triggeredBy">
              <source xsi:type="ocl:VariableExp" location="41:2-41:6" referredVariable="/26"/>
            </source>
            <body xsi:type="ocl:OperationCallExp" location="41:30-41:62" operationName="Event2ActionPrefix">
              <source xsi:type="ocl:VariableExp" location="41:30-41:40" referredVariable="/27"/>
              <arguments xsi:type="ocl:VariableExp" location="41:60-41:61" referredVariable="/0/@elements.6/@definition/@feature/@body/@iterators.0"/>
            </body>
            <iterators location="41:28-41:29" varName="e" variableExp="/0/@elements.6/@definition/@feature/@body/@body/@arguments.0"/>
          </body>
        </feature>
        <context_ location="40:8-40:41">
          <context_ xsi:type="ocl:OclModelElement" location="40:16-40:41" name="Transition" model="/24"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="44:1-45:69">
      <commentsBefore>-- find ProcessTerm from process set in the model</commentsBefore>
      <commentsAfter>-- return Action created by lazy rule</commentsAfter>
      <definition location="44:8-45:68">
        <feature xsi:type="ocl:Operation" location="44:13-45:68" name="getReferenced">
          <parameters location="44:27-44:54" varName="t" variableExp="/0/@elements.7/@definition/@feature/@body/@source/@body/@arguments.0/@source/@source">
            <type xsi:type="ocl:OclModelElement" location="44:29-44:54" name="Transition" model="/28"/>
          </parameters>
          <returnType xsi:type="ocl:OclModelElement" location="44:57-44:74" name="ProcessTerm" model="/29"/>
          <body xsi:type="ocl:OperationCallExp" location="45:2-45:68" operationName="first">
            <source xsi:type="ocl:IteratorExp" location="45:2-45:60" name="select">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="45:2-45:27" name="processSet">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="45:2-45:16" name="CCS">
                  <source xsi:type="ocl:VariableExp" location="45:2-45:12" referredVariable="/30"/>
                </source>
              </source>
              <body xsi:type="ocl:OperatorCallExp" location="45:38-45:59" operationName="=">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="45:38-45:44" name="name">
                  <source xsi:type="ocl:VariableExp" location="45:38-45:39" referredVariable="/0/@elements.7/@definition/@feature/@body/@source/@iterators.0"/>
                </source>
                <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="45:45-45:59" name="label">
                  <source xsi:type="ocl:NavigationOrAttributeCallExp" location="45:45-45:53" name="source">
                    <source xsi:type="ocl:VariableExp" location="45:45-45:46" referredVariable="/0/@elements.7/@definition/@feature/@parameters.0"/>
                  </source>
                </arguments>
              </body>
              <iterators location="45:36-45:37" varName="e" variableExp="/0/@elements.7/@definition/@feature/@body/@source/@body/@source/@source"/>
            </source>
          </body>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="48:1-49:52">
      <commentsBefore>-- return Action created by lazy rule</commentsBefore>
      <commentsAfter>-- return an integer representing number of Transition's trigger events </commentsAfter>
      <definition location="48:8-49:51">
        <feature xsi:type="ocl:Operation" location="48:47-49:51" name="getAction">
          <returnType xsi:type="ocl:OclModelElement" location="48:60-48:72" name="Action" model="/32"/>
          <body xsi:type="ocl:OperationCallExp" location="49:2-49:51" operationName="Event2Action">
            <source xsi:type="ocl:VariableExp" location="49:2-49:12" referredVariable="/33"/>
            <arguments xsi:type="ocl:OperationCallExp" location="49:26-49:50" operationName="first">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="49:26-49:42" name="triggeredBy">
                <source xsi:type="ocl:VariableExp" location="49:26-49:30" referredVariable="/34"/>
              </source>
            </arguments>
          </body>
        </feature>
        <context_ location="48:8-48:41">
          <context_ xsi:type="ocl:OclModelElement" location="48:16-48:41" name="Transition" model="/31"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="52:1-53:40">
      <commentsBefore>-- return an integer representing number of Transition's trigger events </commentsBefore>
      <commentsAfter>-- return true if the Transition is the only that go out from its source state</commentsAfter>
      <definition location="52:8-53:39">
        <feature xsi:type="ocl:Operation" location="52:47-53:39" name="getTriggerNum">
          <returnType xsi:type="ocl:IntegerType" location="52:64-52:71"/>
          <body xsi:type="ocl:OperationCallExp" location="53:2-53:39" operationName="size">
            <source xsi:type="ocl:IteratorExp" location="53:2-53:32" name="collect">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="53:2-53:18" name="triggeredBy">
                <source xsi:type="ocl:VariableExp" location="53:2-53:6" referredVariable="/36"/>
              </source>
              <body xsi:type="ocl:VariableExp" location="53:30-53:31" referredVariable="/0/@elements.9/@definition/@feature/@body/@source/@iterators.0"/>
              <iterators location="53:28-53:29" varName="e" variableExp="/0/@elements.9/@definition/@feature/@body/@source/@body"/>
            </source>
          </body>
        </feature>
        <context_ location="52:8-52:41">
          <context_ xsi:type="ocl:OclModelElement" location="52:16-52:41" name="Transition" model="/35"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="56:1-57:37">
      <commentsBefore>-- return true if the Transition is the only that go out from its source state</commentsBefore>
      <commentsAfter>------------------------------------------------------------------------------------------------------</commentsAfter>
      <commentsAfter>-- RULE</commentsAfter>
      <commentsAfter>------------------------------------------------------------------------------------------------------</commentsAfter>
      <commentsAfter>-- Starting from most general state machine in the model (it can be contain several substatemachine)</commentsAfter>
      <commentsAfter>-- it creates the container and CCS(calculus system). After binded the last one in the first one,</commentsAfter>
      <commentsAfter>-- it mantains a refer to CCS in a global defintion</commentsAfter>
      <definition location="56:8-57:35">
        <feature xsi:type="ocl:Operation" location="56:47-57:35" name="isOnlyOutputTransition">
          <returnType xsi:type="ocl:BooleanType" location="56:73-56:80"/>
          <body xsi:type="ocl:OperationCallExp" location="57:2-57:35" operationName="hasSingleTransition">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="57:2-57:13" name="source">
              <source xsi:type="ocl:VariableExp" location="57:2-57:6" referredVariable="/38"/>
            </source>
          </body>
        </feature>
        <context_ location="56:8-56:41">
          <context_ xsi:type="ocl:OclModelElement" location="56:16-56:41" name="Transition" model="/37"/>
        </context_>
      </definition>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="66:1-76:3" name="StateMachine2CCS">
      <commentsBefore>------------------------------------------------------------------------------------------------------</commentsBefore>
      <commentsBefore>-- RULE</commentsBefore>
      <commentsBefore>------------------------------------------------------------------------------------------------------</commentsBefore>
      <commentsBefore>-- Starting from most general state machine in the model (it can be contain several substatemachine)</commentsBefore>
      <commentsBefore>-- it creates the container and CCS(calculus system). After binded the last one in the first one,</commentsBefore>
      <commentsBefore>-- it mantains a refer to CCS in a global defintion</commentsBefore>
      <commentsAfter>-- Each StateElement is transformed into ProcessTerm. Based on its outgoing transitions number</commentsAfter>
      <commentsAfter>-- it will be transformed into an appropriate ProcessTerm kind.</commentsAfter>
      <commentsAfter>-- Possible ProcessTerm in this case are EmptyProcess, ProcessIdentifier, Choice</commentsAfter>
      <commentsAfter>-- Special reguards for ComposedState wich not have an explicit transition to its initial state</commentsAfter>
      <outPattern location="68:2-74:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="68:6-70:5" varName="container">
          <type xsi:type="ocl:OclModelElement" location="68:17-68:35" name="CCScontainer" model="/40"/>
          <bindings location="69:5-69:18" propertyName="contains">
            <value xsi:type="ocl:VariableExp" location="69:15-69:18" referredVariable="/0/@elements.11/@outPattern/@elements.1"/>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="71:4-74:5" varName="ccs" variableExp="/0/@elements.11/@outPattern/@elements.0/@bindings.0/@value /0/@elements.11/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="71:9-71:18" name="CCS" model="/41"/>
          <bindings location="72:5-72:19" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="72:11-72:19" name="label">
              <source xsi:type="ocl:VariableExp" location="72:11-72:13" referredVariable="/0/@elements.11/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="73:5-73:22" propertyName="processSet">
            <value xsi:type="ocl:SetExp" location="73:17-73:22"/>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="75:2-75:27">
        <statements xsi:type="atl:BindingStat" location="75:6-75:26">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="75:6-75:20" name="CCS">
            <source xsi:type="ocl:VariableExp" location="75:6-75:16" referredVariable="/42"/>
          </source>
          <value xsi:type="ocl:VariableExp" location="75:22-75:25" referredVariable="/0/@elements.11/@outPattern/@elements.1"/>
        </statements>
      </actionBlock>
      <inPattern location="67:2-67:84">
        <elements xsi:type="atl:SimpleInPatternElement" location="67:8-67:39" varName="sm" variableExp="/0/@elements.11/@inPattern/@filter/@source/@source /0/@elements.11/@outPattern/@elements.1/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="67:12-67:39" name="StateMachine" model="/39"/>
        </elements>
        <filter xsi:type="ocl:OperationCallExp" location="67:40-67:83" operationName="oclIsUndefined">
          <source xsi:type="ocl:OperationCallExp" location="67:40-67:66" operationName="refImmediateComposite">
            <source xsi:type="ocl:VariableExp" location="67:40-67:42" referredVariable="/0/@elements.11/@inPattern/@elements.0"/>
          </source>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="82:1-85:2" name="State2Process" children="/0/@elements.13 /0/@elements.14 /0/@elements.15 /0/@elements.16" isAbstract="true">
      <commentsBefore>-- Each StateElement is transformed into ProcessTerm. Based on its outgoing transitions number</commentsBefore>
      <commentsBefore>-- it will be transformed into an appropriate ProcessTerm kind.</commentsBefore>
      <commentsBefore>-- Possible ProcessTerm in this case are EmptyProcess, ProcessIdentifier, Choice</commentsBefore>
      <commentsBefore>-- Special reguards for ComposedState wich not have an explicit transition to its initial state</commentsBefore>
      <outPattern location="84:2-84:26">
        <elements xsi:type="atl:SimpleOutPatternElement" location="84:6-84:26" varName="p">
          <type xsi:type="ocl:OclModelElement" location="84:9-84:26" name="ProcessTerm" model="/44"/>
        </elements>
      </outPattern>
      <inPattern location="83:2-83:37">
        <elements xsi:type="atl:SimpleInPatternElement" location="83:7-83:37" varName="s">
          <type xsi:type="ocl:OclModelElement" location="83:10-83:37" name="StateElement" model="/43"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="87:1-93:2" name="Final2EmptyProcess" superRule="/0/@elements.12">
      <outPattern location="89:2-91:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="89:6-91:5" varName="p" variableExp="/0/@elements.13/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="89:9-89:27" name="EmptyProcess" model="/46"/>
          <bindings location="90:5-90:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="90:11-90:18" name="label">
              <source xsi:type="ocl:VariableExp" location="90:11-90:12" referredVariable="/0/@elements.13/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="92:2-92:36">
        <statements xsi:type="atl:BindingStat" location="92:6-92:35">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="92:6-92:31" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="92:6-92:20" name="CCS">
              <source xsi:type="ocl:VariableExp" location="92:6-92:16" referredVariable="/47"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="92:33-92:34" referredVariable="/0/@elements.13/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="88:2-88:30">
        <elements xsi:type="atl:SimpleInPatternElement" location="88:7-88:30" varName="s" variableExp="/0/@elements.13/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="88:10-88:30" name="Final" model="/45"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="95:1-101:2" name="State2ProcessIdentifier" superRule="/0/@elements.12">
      <outPattern location="97:2-99:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="97:6-99:5" varName="p" variableExp="/0/@elements.14/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="97:9-97:32" name="ProcessIdentifier" model="/50"/>
          <bindings location="98:5-98:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="98:11-98:18" name="label">
              <source xsi:type="ocl:VariableExp" location="98:11-98:12" referredVariable="/0/@elements.14/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="100:2-100:36">
        <statements xsi:type="atl:BindingStat" location="100:6-100:35">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="100:6-100:31" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="100:6-100:20" name="CCS">
              <source xsi:type="ocl:VariableExp" location="100:6-100:16" referredVariable="/51"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="100:33-100:34" referredVariable="/0/@elements.14/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="96:2-96:109">
        <elements xsi:type="atl:SimpleInPatternElement" location="96:7-96:37" varName="s" variableExp="/0/@elements.14/@inPattern/@filter/@source/@source /0/@elements.14/@inPattern/@filter/@arguments.0/@source/@source /0/@elements.14/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="96:10-96:37" name="StateElement" model="/48"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="96:38-96:108" operationName="and">
          <source xsi:type="ocl:OperationCallExp" location="96:38-96:61" operationName="hasSingleTransition">
            <source xsi:type="ocl:VariableExp" location="96:38-96:39" referredVariable="/0/@elements.14/@inPattern/@elements.0"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="96:66-96:108" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="96:70-96:108" operationName="oclIsTypeOf">
              <source xsi:type="ocl:VariableExp" location="96:70-96:71" referredVariable="/0/@elements.14/@inPattern/@elements.0"/>
              <arguments xsi:type="ocl:OclModelElement" location="96:84-96:107" name="Composed" model="/49"/>
            </source>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="103:1-109:2" name="State2Choice" superRule="/0/@elements.12">
      <outPattern location="105:2-107:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="105:6-107:5" varName="p" variableExp="/0/@elements.15/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="105:9-105:21" name="Choice" model="/53"/>
          <bindings location="106:5-106:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="106:11-106:18" name="label">
              <source xsi:type="ocl:VariableExp" location="106:11-106:12" referredVariable="/0/@elements.15/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="108:2-108:36">
        <statements xsi:type="atl:BindingStat" location="108:6-108:35">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="108:6-108:31" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="108:6-108:20" name="CCS">
              <source xsi:type="ocl:VariableExp" location="108:6-108:16" referredVariable="/54"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="108:33-108:34" referredVariable="/0/@elements.15/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="104:2-104:64">
        <elements xsi:type="atl:SimpleInPatternElement" location="104:7-104:37" varName="s" variableExp="/0/@elements.15/@inPattern/@filter/@source /0/@elements.15/@outPattern/@elements.0/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="104:10-104:37" name="StateElement" model="/52"/>
        </elements>
        <filter xsi:type="ocl:OperationCallExp" location="104:38-104:63" operationName="hasMultipleTransition">
          <source xsi:type="ocl:VariableExp" location="104:38-104:39" referredVariable="/0/@elements.15/@inPattern/@elements.0"/>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="111:1-119:2" name="StateComposed2ProcessIdentifier" superRule="/0/@elements.12">
      <commentsAfter>-- Each Transition is transformed into a ProcessTerm too. In this case valid ProcessTerm</commentsAfter>
      <commentsAfter>-- are ActionPrefix or Choice (of ActionPrefix) based on trigger events number</commentsAfter>
      <outPattern location="113:2-117:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="113:6-117:5" varName="p" variableExp="/0/@elements.16/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="113:9-113:32" name="ProcessIdentifier" model="/56"/>
          <bindings location="114:5-114:18" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="114:11-114:18" name="label">
              <source xsi:type="ocl:VariableExp" location="114:11-114:12" referredVariable="/0/@elements.16/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="115:5-115:36" propertyName="nextProcess">
            <value xsi:type="ocl:OperationCallExp" location="115:18-115:36" operationName="getNextProcess">
              <source xsi:type="ocl:VariableExp" location="115:18-115:19" referredVariable="/0/@elements.16/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="118:2-118:36">
        <statements xsi:type="atl:BindingStat" location="118:6-118:35">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="118:6-118:31" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="118:6-118:20" name="CCS">
              <source xsi:type="ocl:VariableExp" location="118:6-118:16" referredVariable="/57"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="118:33-118:34" referredVariable="/0/@elements.16/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="112:2-112:33">
        <elements xsi:type="atl:SimpleInPatternElement" location="112:7-112:33" varName="s" variableExp="/0/@elements.16/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.16/@outPattern/@elements.0/@bindings.1/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="112:10-112:33" name="Composed" model="/55"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="124:1-131:2" name="Transition2ActionPrefix" children="/0/@elements.18 /0/@elements.19" isAbstract="true">
      <commentsBefore>-- Each Transition is transformed into a ProcessTerm too. In this case valid ProcessTerm</commentsBefore>
      <commentsBefore>-- are ActionPrefix or Choice (of ActionPrefix) based on trigger events number</commentsBefore>
      <outPattern location="126:2-130:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="126:6-130:5" varName="p">
          <type xsi:type="ocl:OclModelElement" location="126:9-126:27" name="ActionPrefix" model="/59"/>
          <bindings location="127:5-127:29" propertyName="name">
            <value xsi:type="ocl:OperatorCallExp" location="127:11-127:29" operationName="+">
              <source xsi:type="ocl:StringExp" location="127:11-127:14" stringSymbol="P"/>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="127:15-127:29" name="label">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="127:15-127:23" name="source">
                  <source xsi:type="ocl:VariableExp" location="127:15-127:16" referredVariable="/0/@elements.17/@inPattern/@elements.0"/>
                </source>
              </arguments>
            </value>
          </bindings>
          <bindings location="128:5-128:29" propertyName="actionRef">
            <value xsi:type="ocl:OperationCallExp" location="128:16-128:29" operationName="getAction">
              <source xsi:type="ocl:VariableExp" location="128:16-128:17" referredVariable="/0/@elements.17/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="129:5-129:36" propertyName="nextProcess">
            <value xsi:type="ocl:OperationCallExp" location="129:18-129:36" operationName="getNextProcess">
              <source xsi:type="ocl:VariableExp" location="129:18-129:19" referredVariable="/0/@elements.17/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="125:2-125:35">
        <elements xsi:type="atl:SimpleInPatternElement" location="125:7-125:35" varName="s" variableExp="/0/@elements.17/@outPattern/@elements.0/@bindings.0/@value/@arguments.0/@source/@source /0/@elements.17/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.17/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="125:10-125:35" name="Transition" model="/58"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="133:1-140:2" name="Transition2ActionPrefixA" superRule="/0/@elements.17">
      <outPattern location="135:2-135:27">
        <elements xsi:type="atl:SimpleOutPatternElement" location="135:6-135:27" varName="p" variableExp="/0/@elements.18/@actionBlock/@statements.0/@value /0/@elements.18/@actionBlock/@statements.1/@value">
          <type xsi:type="ocl:OclModelElement" location="135:9-135:27" name="ActionPrefix" model="/61"/>
        </elements>
      </outPattern>
      <actionBlock location="136:2-139:3">
        <statements xsi:type="atl:BindingStat" location="137:3-137:32">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="137:3-137:28" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="137:3-137:17" name="CCS">
              <source xsi:type="ocl:VariableExp" location="137:3-137:13" referredVariable="/62"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="137:30-137:31" referredVariable="/0/@elements.18/@outPattern/@elements.0"/>
        </statements>
        <statements xsi:type="atl:BindingStat" location="138:3-138:46">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="138:3-138:42" name="nextProcess">
            <source xsi:type="ocl:OperationCallExp" location="138:3-138:30" operationName="getReferenced">
              <source xsi:type="ocl:VariableExp" location="138:3-138:13" referredVariable="/63"/>
              <arguments xsi:type="ocl:VariableExp" location="138:28-138:29" referredVariable="/0/@elements.18/@inPattern/@elements.0"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="138:44-138:45" referredVariable="/0/@elements.18/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="134:2-134:88">
        <elements xsi:type="atl:SimpleInPatternElement" location="134:7-134:35" varName="s" variableExp="/0/@elements.18/@inPattern/@filter/@source/@source/@source /0/@elements.18/@inPattern/@filter/@arguments.0/@source /0/@elements.18/@actionBlock/@statements.1/@source/@source/@arguments.0">
          <type xsi:type="ocl:OclModelElement" location="134:10-134:35" name="Transition" model="/60"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="134:36-134:87" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="134:36-134:56" operationName="&lt;=">
            <source xsi:type="ocl:OperationCallExp" location="134:36-134:53" operationName="getTriggerNum">
              <source xsi:type="ocl:VariableExp" location="134:36-134:37" referredVariable="/0/@elements.18/@inPattern/@elements.0"/>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="134:55-134:56" integerSymbol="1"/>
          </source>
          <arguments xsi:type="ocl:OperationCallExp" location="134:61-134:87" operationName="isOnlyOutputTransition">
            <source xsi:type="ocl:VariableExp" location="134:61-134:62" referredVariable="/0/@elements.18/@inPattern/@elements.0"/>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="142:1-151:2" name="Transition2ActionPrefixB" superRule="/0/@elements.17">
      <outPattern location="144:2-146:6">
        <elements xsi:type="atl:SimpleOutPatternElement" location="144:6-146:6" varName="p" variableExp="/0/@elements.19/@actionBlock/@statements.0/@value /0/@elements.19/@actionBlock/@statements.1/@value">
          <type xsi:type="ocl:OclModelElement" location="144:9-144:27" name="ActionPrefix" model="/65"/>
          <bindings location="145:6-145:78" propertyName="name">
            <commentsAfter>--to create an ID</commentsAfter>
            <value xsi:type="ocl:OperatorCallExp" location="145:12-145:78" operationName="+">
              <commentsAfter>--to create an ID</commentsAfter>
              <source xsi:type="ocl:OperatorCallExp" location="145:12-145:34" operationName="+">
                <source xsi:type="ocl:OperatorCallExp" location="145:12-145:30" operationName="+">
                  <source xsi:type="ocl:StringExp" location="145:12-145:15" stringSymbol="P"/>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="145:16-145:30" name="label">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="145:16-145:24" name="source">
                      <source xsi:type="ocl:VariableExp" location="145:16-145:17" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
                    </source>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="145:31-145:34" stringSymbol="_"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="145:35-145:78" operationName="substring">
                <commentsAfter>--to create an ID</commentsAfter>
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="145:35-145:62" name="label">
                  <source xsi:type="ocl:OperationCallExp" location="145:35-145:56" operationName="first">
                    <source xsi:type="ocl:NavigationOrAttributeCallExp" location="145:35-145:48" name="triggeredBy">
                      <source xsi:type="ocl:VariableExp" location="145:35-145:36" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
                    </source>
                  </source>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="145:73-145:74" integerSymbol="1"/>
                <arguments xsi:type="ocl:IntegerExp" location="145:76-145:77" integerSymbol="1"/>
              </arguments>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="147:2-150:3">
        <statements xsi:type="atl:BindingStat" location="148:3-148:32">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="148:3-148:28" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="148:3-148:17" name="CCS">
              <source xsi:type="ocl:VariableExp" location="148:3-148:13" referredVariable="/66"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="148:30-148:31" referredVariable="/0/@elements.19/@outPattern/@elements.0"/>
        </statements>
        <statements xsi:type="atl:BindingStat" location="149:3-149:42">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="149:3-149:38" name="choices">
            <source xsi:type="ocl:OperationCallExp" location="149:3-149:30" operationName="getReferenced">
              <source xsi:type="ocl:VariableExp" location="149:3-149:13" referredVariable="/67"/>
              <arguments xsi:type="ocl:VariableExp" location="149:28-149:29" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="149:40-149:41" referredVariable="/0/@elements.19/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="143:2-143:92">
        <elements xsi:type="atl:SimpleInPatternElement" location="143:7-143:35" varName="s" variableExp="/0/@elements.19/@inPattern/@filter/@source/@source/@source /0/@elements.19/@inPattern/@filter/@arguments.0/@source/@source /0/@elements.19/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@arguments.0/@source/@source /0/@elements.19/@outPattern/@elements.0/@bindings.0/@value/@arguments.0/@source/@source/@source/@source /0/@elements.19/@actionBlock/@statements.1/@source/@source/@arguments.0">
          <type xsi:type="ocl:OclModelElement" location="143:10-143:35" name="Transition" model="/64"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="143:36-143:91" operationName="and">
          <source xsi:type="ocl:OperatorCallExp" location="143:36-143:56" operationName="&lt;=">
            <source xsi:type="ocl:OperationCallExp" location="143:36-143:53" operationName="getTriggerNum">
              <source xsi:type="ocl:VariableExp" location="143:36-143:37" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
            </source>
            <arguments xsi:type="ocl:IntegerExp" location="143:55-143:56" integerSymbol="1"/>
          </source>
          <arguments xsi:type="ocl:OperatorCallExp" location="143:61-143:91" operationName="not">
            <source xsi:type="ocl:OperationCallExp" location="143:65-143:91" operationName="isOnlyOutputTransition">
              <source xsi:type="ocl:VariableExp" location="143:65-143:66" referredVariable="/0/@elements.19/@inPattern/@elements.0"/>
            </source>
          </arguments>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="153:1-163:2" name="Transition2Choice">
      <commentsAfter>------------------------------------------------------------------------------------------------------</commentsAfter>
      <commentsAfter>-- LAZY RULE</commentsAfter>
      <commentsAfter>------------------------------------------------------------------------------------------------------</commentsAfter>
      <commentsAfter>-- Each trigger Event of state machine becomes an Action in the action set.</commentsAfter>
      <commentsAfter>-- Each ones was created from relative transition rule </commentsAfter>
      <outPattern location="155:2-158:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="155:6-158:5" varName="p" variableExp="/0/@elements.20/@actionBlock/@statements.0/@value /0/@elements.20/@actionBlock/@statements.1/@value">
          <type xsi:type="ocl:OclModelElement" location="155:9-155:21" name="Choice" model="/69"/>
          <bindings location="156:5-156:29" propertyName="name">
            <value xsi:type="ocl:OperatorCallExp" location="156:11-156:29" operationName="+">
              <source xsi:type="ocl:StringExp" location="156:11-156:14" stringSymbol="P"/>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="156:15-156:29" name="label">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="156:15-156:23" name="source">
                  <source xsi:type="ocl:VariableExp" location="156:15-156:16" referredVariable="/0/@elements.20/@inPattern/@elements.0"/>
                </source>
              </arguments>
            </value>
          </bindings>
          <bindings location="157:5-157:34" propertyName="choices">
            <value xsi:type="ocl:OperationCallExp" location="157:14-157:34" operationName="getNextProcesses">
              <source xsi:type="ocl:VariableExp" location="157:14-157:15" referredVariable="/0/@elements.20/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="159:2-162:3">
        <statements xsi:type="atl:BindingStat" location="160:3-160:32">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="160:3-160:28" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="160:3-160:17" name="CCS">
              <source xsi:type="ocl:VariableExp" location="160:3-160:13" referredVariable="/70"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="160:30-160:31" referredVariable="/0/@elements.20/@outPattern/@elements.0"/>
        </statements>
        <statements xsi:type="atl:BindingStat" location="161:3-161:46">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="161:3-161:42" name="nextProcess">
            <source xsi:type="ocl:OperationCallExp" location="161:3-161:30" operationName="getReferenced">
              <source xsi:type="ocl:VariableExp" location="161:3-161:13" referredVariable="/71"/>
              <arguments xsi:type="ocl:VariableExp" location="161:28-161:29" referredVariable="/0/@elements.20/@inPattern/@elements.0"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="161:44-161:45" referredVariable="/0/@elements.20/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="154:2-154:56">
        <elements xsi:type="atl:SimpleInPatternElement" location="154:7-154:35" varName="s" variableExp="/0/@elements.20/@inPattern/@filter/@source/@source /0/@elements.20/@outPattern/@elements.0/@bindings.0/@value/@arguments.0/@source/@source /0/@elements.20/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.20/@actionBlock/@statements.1/@source/@source/@arguments.0">
          <type xsi:type="ocl:OclModelElement" location="154:10-154:35" name="Transition" model="/68"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="154:36-154:55" operationName=">">
          <source xsi:type="ocl:OperationCallExp" location="154:36-154:53" operationName="getTriggerNum">
            <source xsi:type="ocl:VariableExp" location="154:36-154:37" referredVariable="/0/@elements.20/@inPattern/@elements.0"/>
          </source>
          <arguments xsi:type="ocl:IntegerExp" location="154:54-154:55" integerSymbol="1"/>
        </filter>
      </inPattern>
    </elements>
    <elements xsi:type="atl:LazyMatchedRule" location="169:1-175:2" name="Event2Action">
      <commentsBefore>------------------------------------------------------------------------------------------------------</commentsBefore>
      <commentsBefore>-- LAZY RULE</commentsBefore>
      <commentsBefore>------------------------------------------------------------------------------------------------------</commentsBefore>
      <commentsBefore>-- Each trigger Event of state machine becomes an Action in the action set.</commentsBefore>
      <commentsBefore>-- Each ones was created from relative transition rule </commentsBefore>
      <outPattern location="171:2-173:6">
        <elements xsi:type="atl:SimpleOutPatternElement" location="171:6-173:6" varName="a" variableExp="/0/@elements.21/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="171:9-171:21" name="Action" model="/73"/>
          <bindings location="172:5-172:59" propertyName="name">
            <commentsAfter>--to create an ID</commentsAfter>
            <value xsi:type="ocl:OperatorCallExp" location="172:11-172:59" operationName="+">
              <commentsAfter>--to create an ID</commentsAfter>
              <source xsi:type="ocl:OperatorCallExp" location="172:11-172:27" operationName="+">
                <source xsi:type="ocl:OperatorCallExp" location="172:11-172:23" operationName="+">
                  <source xsi:type="ocl:StringExp" location="172:11-172:15" stringSymbol="a_"/>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="172:16-172:23" name="label">
                    <source xsi:type="ocl:VariableExp" location="172:16-172:17" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="172:24-172:27" stringSymbol="_"/>
              </source>
              <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="172:28-172:59" name="label">
                <commentsAfter>--to create an ID</commentsAfter>
                <source xsi:type="ocl:OperationCallExp" location="172:28-172:53" operationName="refImmediateComposite">
                  <source xsi:type="ocl:VariableExp" location="172:28-172:29" referredVariable="/0/@elements.21/@inPattern/@elements.0"/>
                </source>
              </arguments>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="174:2-174:35">
        <statements xsi:type="atl:BindingStat" location="174:6-174:34">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:6-174:30" name="actionSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="174:6-174:20" name="CCS">
              <source xsi:type="ocl:VariableExp" location="174:6-174:16" referredVariable="/74"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="174:32-174:33" referredVariable="/0/@elements.21/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="170:2-170:30">
        <elements xsi:type="atl:SimpleInPatternElement" location="170:7-170:30" varName="s" variableExp="/0/@elements.21/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@arguments.0/@source /0/@elements.21/@outPattern/@elements.0/@bindings.0/@value/@arguments.0/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="170:10-170:30" name="Event" model="/72"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:LazyMatchedRule" location="177:1-185:2" name="Event2ActionPrefix">
      <outPattern location="179:2-183:5">
        <elements xsi:type="atl:SimpleOutPatternElement" location="179:6-183:5" varName="p" variableExp="/0/@elements.22/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="179:9-179:27" name="ActionPrefix" model="/76"/>
          <bindings location="180:5-180:74" propertyName="name">
            <value xsi:type="ocl:OperatorCallExp" location="180:11-180:74" operationName="+">
              <source xsi:type="ocl:OperatorCallExp" location="180:11-180:50" operationName="+">
                <source xsi:type="ocl:OperatorCallExp" location="180:11-180:46" operationName="+">
                  <source xsi:type="ocl:StringExp" location="180:11-180:14" stringSymbol="P"/>
                  <arguments xsi:type="ocl:NavigationOrAttributeCallExp" location="180:15-180:46" name="label">
                    <source xsi:type="ocl:OperationCallExp" location="180:15-180:40" operationName="refImmediateComposite">
                      <source xsi:type="ocl:VariableExp" location="180:15-180:16" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
                    </source>
                  </arguments>
                </source>
                <arguments xsi:type="ocl:StringExp" location="180:47-180:50" stringSymbol="_"/>
              </source>
              <arguments xsi:type="ocl:OperationCallExp" location="180:51-180:74" operationName="substring">
                <source xsi:type="ocl:NavigationOrAttributeCallExp" location="180:51-180:58" name="label">
                  <source xsi:type="ocl:VariableExp" location="180:51-180:52" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
                </source>
                <arguments xsi:type="ocl:IntegerExp" location="180:69-180:70" integerSymbol="1"/>
                <arguments xsi:type="ocl:IntegerExp" location="180:72-180:73" integerSymbol="1"/>
              </arguments>
            </value>
          </bindings>
          <bindings location="181:5-181:42" propertyName="actionRef">
            <commentsBefore>--to create an ID</commentsBefore>
            <value xsi:type="ocl:OperationCallExp" location="181:16-181:42" operationName="Event2Action">
              <source xsi:type="ocl:VariableExp" location="181:16-181:26" referredVariable="/77"/>
              <arguments xsi:type="ocl:VariableExp" location="181:40-181:41" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="182:5-182:36" propertyName="nextProcess">
            <value xsi:type="ocl:OperationCallExp" location="182:18-182:36" operationName="getNextProcess">
              <source xsi:type="ocl:VariableExp" location="182:18-182:19" referredVariable="/0/@elements.22/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="184:2-184:37">
        <statements xsi:type="atl:BindingStat" location="184:6-184:35">
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="184:6-184:31" name="processSet">
            <source xsi:type="ocl:NavigationOrAttributeCallExp" location="184:6-184:20" name="CCS">
              <source xsi:type="ocl:VariableExp" location="184:6-184:16" referredVariable="/78"/>
            </source>
          </source>
          <value xsi:type="ocl:VariableExp" location="184:33-184:34" referredVariable="/0/@elements.22/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="178:2-178:30">
        <elements xsi:type="atl:SimpleInPatternElement" location="178:7-178:30" varName="s" variableExp="/0/@elements.22/@outPattern/@elements.0/@bindings.0/@value/@source/@source/@arguments.0/@source/@source /0/@elements.22/@outPattern/@elements.0/@bindings.0/@value/@arguments.0/@source/@source /0/@elements.22/@outPattern/@elements.0/@bindings.1/@value/@arguments.0 /0/@elements.22/@outPattern/@elements.0/@bindings.2/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="178:10-178:30" name="Event" model="/75"/>
        </elements>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="5:14-5:19" name="ccsMM" model="/0/@outModels.0"/>
  <ocl:OclModel location="5:30-5:44" name="stateMachineMM" model="/0/@inModels.0"/>
  <ocl:OclModel location="11:18-11:23" name="ccsMM" elements="/0/@elements.0/@definition/@feature/@type"/>
  <ocl:OclModel location="14:16-14:30" name="stateMachineMM" elements="/0/@elements.1/@definition/@context_/@context_"/>
  <ocl:OclModel location="15:30-15:44" name="stateMachineMM" elements="/0/@elements.1/@definition/@feature/@body/@variable/@type/@elementType"/>
  <ocl:OclModel location="16:3-16:17" name="stateMachineMM" elements="/0/@elements.1/@definition/@feature/@body/@variable/@initExpression/@source/@source"/>
  <ocl:VariableDeclaration location="16:69-16:73" varName="self" variableExp="/0/@elements.1/@definition/@feature/@body/@variable/@initExpression/@body/@arguments.0/@source"/>
  <ocl:OclModel location="21:16-21:30" name="stateMachineMM" elements="/0/@elements.2/@definition/@context_/@context_"/>
  <ocl:OclModel location="22:30-22:44" name="stateMachineMM" elements="/0/@elements.2/@definition/@feature/@body/@variable/@type/@elementType"/>
  <ocl:OclModel location="23:3-23:17" name="stateMachineMM" elements="/0/@elements.2/@definition/@feature/@body/@variable/@initExpression/@source/@source"/>
  <ocl:VariableDeclaration location="23:69-23:73" varName="self" variableExp="/0/@elements.2/@definition/@feature/@body/@variable/@initExpression/@body/@arguments.0/@source"/>
  <ocl:OclModel location="28:16-28:30" name="stateMachineMM" elements="/0/@elements.3/@definition/@context_/@context_"/>
  <ocl:OclModel location="28:65-28:70" name="ccsMM" elements="/0/@elements.3/@definition/@feature/@returnType"/>
  <ocl:VariableDeclaration location="29:2-29:12" varName="thisModule" variableExp="/0/@elements.3/@definition/@feature/@body/@source/@source/@source/@source"/>
  <ocl:VariableDeclaration location="29:45-29:49" varName="self" variableExp="/0/@elements.3/@definition/@feature/@body/@source/@body/@arguments.0/@source/@source"/>
  <ocl:OclModel location="32:16-32:30" name="stateMachineMM" elements="/0/@elements.4/@definition/@context_/@context_"/>
  <ocl:OclModel location="32:60-32:65" name="ccsMM" elements="/0/@elements.4/@definition/@feature/@returnType"/>
  <ocl:VariableDeclaration location="33:2-33:12" varName="thisModule" variableExp="/0/@elements.4/@definition/@feature/@body/@source/@source/@source/@source"/>
  <ocl:VariableDeclaration location="33:45-33:49" varName="self" variableExp="/0/@elements.4/@definition/@feature/@body/@source/@body/@arguments.0/@source/@source/@source"/>
  <ocl:OclModel location="36:16-36:30" name="stateMachineMM" elements="/0/@elements.5/@definition/@context_/@context_"/>
  <ocl:OclModel location="36:63-36:68" name="ccsMM" elements="/0/@elements.5/@definition/@feature/@returnType"/>
  <ocl:VariableDeclaration location="37:2-37:12" varName="thisModule" variableExp="/0/@elements.5/@definition/@feature/@body/@source/@source/@source/@source"/>
  <ocl:VariableDeclaration location="37:45-37:49" varName="self" variableExp="/0/@elements.5/@definition/@feature/@body/@source/@body/@arguments.0/@source/@source/@source"/>
  <ocl:OclModel location="40:16-40:30" name="stateMachineMM" elements="/0/@elements.6/@definition/@context_/@context_"/>
  <ocl:OclModel location="40:71-40:76" name="ccsMM" elements="/0/@elements.6/@definition/@feature/@returnType/@elementType"/>
  <ocl:VariableDeclaration location="41:2-41:6" varName="self" variableExp="/0/@elements.6/@definition/@feature/@body/@source/@source"/>
  <ocl:VariableDeclaration location="41:30-41:40" varName="thisModule" variableExp="/0/@elements.6/@definition/@feature/@body/@body/@source"/>
  <ocl:OclModel location="44:29-44:43" name="stateMachineMM" elements="/0/@elements.7/@definition/@feature/@parameters.0/@type"/>
  <ocl:OclModel location="44:57-44:62" name="ccsMM" elements="/0/@elements.7/@definition/@feature/@returnType"/>
  <ocl:VariableDeclaration location="45:2-45:12" varName="thisModule" variableExp="/0/@elements.7/@definition/@feature/@body/@source/@source/@source/@source"/>
  <ocl:OclModel location="48:16-48:30" name="stateMachineMM" elements="/0/@elements.8/@definition/@context_/@context_"/>
  <ocl:OclModel location="48:60-48:65" name="ccsMM" elements="/0/@elements.8/@definition/@feature/@returnType"/>
  <ocl:VariableDeclaration location="49:2-49:12" varName="thisModule" variableExp="/0/@elements.8/@definition/@feature/@body/@source"/>
  <ocl:VariableDeclaration location="49:26-49:30" varName="self" variableExp="/0/@elements.8/@definition/@feature/@body/@arguments.0/@source/@source"/>
  <ocl:OclModel location="52:16-52:30" name="stateMachineMM" elements="/0/@elements.9/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="53:2-53:6" varName="self" variableExp="/0/@elements.9/@definition/@feature/@body/@source/@source/@source"/>
  <ocl:OclModel location="56:16-56:30" name="stateMachineMM" elements="/0/@elements.10/@definition/@context_/@context_"/>
  <ocl:VariableDeclaration location="57:2-57:6" varName="self" variableExp="/0/@elements.10/@definition/@feature/@body/@source/@source"/>
  <ocl:OclModel location="67:12-67:26" name="stateMachineMM" elements="/0/@elements.11/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="68:17-68:22" name="ccsMM" elements="/0/@elements.11/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="71:9-71:14" name="ccsMM" elements="/0/@elements.11/@outPattern/@elements.1/@type"/>
  <ocl:VariableDeclaration location="75:6-75:16" varName="thisModule" variableExp="/0/@elements.11/@actionBlock/@statements.0/@source/@source"/>
  <ocl:OclModel location="83:10-83:24" name="stateMachineMM" elements="/0/@elements.12/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="84:9-84:14" name="ccsMM" elements="/0/@elements.12/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="88:10-88:24" name="stateMachineMM" elements="/0/@elements.13/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="89:9-89:14" name="ccsMM" elements="/0/@elements.13/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="92:6-92:16" varName="thisModule" variableExp="/0/@elements.13/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:OclModel location="96:10-96:24" name="stateMachineMM" elements="/0/@elements.14/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="96:84-96:98" name="stateMachineMM" elements="/0/@elements.14/@inPattern/@filter/@arguments.0/@source/@arguments.0"/>
  <ocl:OclModel location="97:9-97:14" name="ccsMM" elements="/0/@elements.14/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="100:6-100:16" varName="thisModule" variableExp="/0/@elements.14/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:OclModel location="104:10-104:24" name="stateMachineMM" elements="/0/@elements.15/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="105:9-105:14" name="ccsMM" elements="/0/@elements.15/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="108:6-108:16" varName="thisModule" variableExp="/0/@elements.15/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:OclModel location="112:10-112:24" name="stateMachineMM" elements="/0/@elements.16/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="113:9-113:14" name="ccsMM" elements="/0/@elements.16/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="118:6-118:16" varName="thisModule" variableExp="/0/@elements.16/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:OclModel location="125:10-125:24" name="stateMachineMM" elements="/0/@elements.17/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="126:9-126:14" name="ccsMM" elements="/0/@elements.17/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="134:10-134:24" name="stateMachineMM" elements="/0/@elements.18/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="135:9-135:14" name="ccsMM" elements="/0/@elements.18/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="137:3-137:13" varName="thisModule" variableExp="/0/@elements.18/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:VariableDeclaration location="138:3-138:13" varName="thisModule" variableExp="/0/@elements.18/@actionBlock/@statements.1/@source/@source/@source"/>
  <ocl:OclModel location="143:10-143:24" name="stateMachineMM" elements="/0/@elements.19/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="144:9-144:14" name="ccsMM" elements="/0/@elements.19/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="148:3-148:13" varName="thisModule" variableExp="/0/@elements.19/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:VariableDeclaration location="149:3-149:13" varName="thisModule" variableExp="/0/@elements.19/@actionBlock/@statements.1/@source/@source/@source"/>
  <ocl:OclModel location="154:10-154:24" name="stateMachineMM" elements="/0/@elements.20/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="155:9-155:14" name="ccsMM" elements="/0/@elements.20/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="160:3-160:13" varName="thisModule" variableExp="/0/@elements.20/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:VariableDeclaration location="161:3-161:13" varName="thisModule" variableExp="/0/@elements.20/@actionBlock/@statements.1/@source/@source/@source"/>
  <ocl:OclModel location="170:10-170:24" name="stateMachineMM" elements="/0/@elements.21/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="171:9-171:14" name="ccsMM" elements="/0/@elements.21/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="174:6-174:16" varName="thisModule" variableExp="/0/@elements.21/@actionBlock/@statements.0/@source/@source/@source"/>
  <ocl:OclModel location="178:10-178:24" name="stateMachineMM" elements="/0/@elements.22/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="179:9-179:14" name="ccsMM" elements="/0/@elements.22/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="181:16-181:26" varName="thisModule" variableExp="/0/@elements.22/@outPattern/@elements.0/@bindings.1/@value/@source"/>
  <ocl:VariableDeclaration location="184:6-184:16" varName="thisModule" variableExp="/0/@elements.22/@actionBlock/@statements.0/@source/@source/@source"/>
</xmi:XMI>
