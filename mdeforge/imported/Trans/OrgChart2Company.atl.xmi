<?xml version="1.0" encoding="ASCII"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:atl="http://www.eclipse.org/gmt/2005/ATL" xmlns:ocl="http://www.eclipse.org/gmt/2005/OCL">
  <atl:Module location="4:1-45:2" name="OrgChart2Company">
    <commentsBefore>-- @path OrgchartMM=/it.univaq.disim.mde.atl.MM2CD/metamodels/Orgchart.ecore</commentsBefore>
    <commentsBefore>-- @path CompanyMM=/it.univaq.disim.mde.atl.MM2CD/metamodels/CompanyMM.ecore</commentsBefore>
    <inModels location="5:29-5:44" name="IN" metamodel="/2"/>
    <outModels location="5:8-5:23" name="OUT" metamodel="/1"/>
    <elements xsi:type="atl:Helper" location="7:1-7:59">
      <definition location="7:8-7:58">
        <feature xsi:type="ocl:Attribute" location="7:15-7:58" name="mainCompany">
          <initExpression xsi:type="ocl:OclUndefinedExp" location="7:46-7:58"/>
          <type xsi:type="ocl:OclModelElement" location="7:28-7:45" name="Company" model="/3"/>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:Helper" location="9:1-9:72">
      <definition location="9:8-9:71">
        <feature xsi:type="ocl:Operation" location="9:13-9:71" name="allRoles">
          <returnType xsi:type="ocl:SetType" location="9:25-9:44">
            <elementType xsi:type="ocl:OclModelElement" location="9:29-9:43" name="Role" model="/4"/>
          </returnType>
          <body xsi:type="ocl:NavigationOrAttributeCallExp" location="9:46-9:71" name="eLiterals">
            <source xsi:type="ocl:OclModelElement" location="9:46-9:61" name="Role" model="/5"/>
          </body>
        </feature>
      </definition>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="13:1-31:2" name="President2Company">
      <outPattern location="15:2-23:3">
        <elements xsi:type="atl:SimpleOutPatternElement" location="15:5-18:3" varName="c" variableExp="/0/@elements.2/@outPattern/@elements.1/@bindings.1/@value /0/@elements.2/@actionBlock/@statements.0/@value">
          <type xsi:type="ocl:OclModelElement" location="15:8-15:25" name="Company" model="/7"/>
          <bindings location="16:2-16:23" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="16:10-16:23" name="companyName">
              <source xsi:type="ocl:VariableExp" location="16:10-16:11" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="17:2-17:28" propertyName="employees">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="17:15-17:28" name="subemplyees">
              <source xsi:type="ocl:VariableExp" location="17:15-17:16" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
        </elements>
        <elements xsi:type="atl:SimpleOutPatternElement" location="19:2-23:3" varName="president">
          <type xsi:type="ocl:OclModelElement" location="19:13-19:31" name="Employee" model="/8"/>
          <bindings location="20:2-20:16" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="20:10-20:16" name="name">
              <source xsi:type="ocl:VariableExp" location="20:10-20:11" referredVariable="/0/@elements.2/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="21:2-21:14" propertyName="company">
            <value xsi:type="ocl:VariableExp" location="21:13-21:14" referredVariable="/0/@elements.2/@outPattern/@elements.0"/>
          </bindings>
          <bindings location="22:2-22:21" propertyName="role">
            <value xsi:type="ocl:StringExp" location="22:10-22:21" stringSymbol="President"/>
          </bindings>
        </elements>
      </outPattern>
      <actionBlock location="24:2-28:3">
        <statements xsi:type="atl:BindingStat" location="26:3-26:29">
          <commentsAfter>--s.debug(thisModule.allRoles());</commentsAfter>
          <source xsi:type="ocl:NavigationOrAttributeCallExp" location="26:3-26:25" name="mainCompany">
            <source xsi:type="ocl:VariableExp" location="26:3-26:13" referredVariable="/9"/>
          </source>
          <value xsi:type="ocl:VariableExp" location="26:27-26:28" referredVariable="/0/@elements.2/@outPattern/@elements.0"/>
        </statements>
      </actionBlock>
      <inPattern location="14:2-14:30">
        <elements xsi:type="atl:SimpleInPatternElement" location="14:7-14:30" varName="s" variableExp="/0/@elements.2/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.2/@outPattern/@elements.0/@bindings.1/@value/@source /0/@elements.2/@outPattern/@elements.1/@bindings.0/@value/@source">
          <type xsi:type="ocl:OclModelElement" location="14:10-14:30" name="President" model="/6"/>
        </elements>
      </inPattern>
    </elements>
    <elements xsi:type="atl:MatchedRule" location="34:1-45:2" name="Member2Employee">
      <outPattern location="38:2-42:3">
        <elements xsi:type="atl:SimpleOutPatternElement" location="38:5-42:3" varName="t">
          <type xsi:type="ocl:OclModelElement" location="38:8-38:26" name="Employee" model="/12"/>
          <bindings location="39:2-39:16" propertyName="name">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="39:10-39:16" name="name">
              <source xsi:type="ocl:VariableExp" location="39:10-39:11" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            </value>
          </bindings>
          <bindings location="40:2-40:25" propertyName="role">
            <value xsi:type="ocl:OperationCallExp" location="40:8-40:25" operationName="toString">
              <source xsi:type="ocl:NavigationOrAttributeCallExp" location="40:8-40:14" name="role">
                <source xsi:type="ocl:VariableExp" location="40:8-40:9" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
              </source>
            </value>
          </bindings>
          <bindings location="41:2-41:33" propertyName="company">
            <value xsi:type="ocl:NavigationOrAttributeCallExp" location="41:11-41:33" name="mainCompany">
              <source xsi:type="ocl:VariableExp" location="41:11-41:21" referredVariable="/13"/>
            </value>
          </bindings>
        </elements>
      </outPattern>
      <inPattern location="36:2-36:69">
        <elements xsi:type="atl:SimpleInPatternElement" location="36:7-36:27" varName="s" variableExp="/0/@elements.3/@inPattern/@filter/@source/@source /0/@elements.3/@outPattern/@elements.0/@bindings.0/@value/@source /0/@elements.3/@outPattern/@elements.0/@bindings.1/@value/@source/@source">
          <type xsi:type="ocl:OclModelElement" location="36:10-36:27" name="Member" model="/10"/>
        </elements>
        <filter xsi:type="ocl:OperatorCallExp" location="36:29-36:68" operationName="not">
          <source xsi:type="ocl:OperationCallExp" location="36:33-36:68" operationName="oclIsTypeOf">
            <source xsi:type="ocl:VariableExp" location="36:33-36:34" referredVariable="/0/@elements.3/@inPattern/@elements.0"/>
            <arguments xsi:type="ocl:OclModelElement" location="36:47-36:67" name="President" model="/11"/>
          </source>
        </filter>
      </inPattern>
    </elements>
  </atl:Module>
  <ocl:OclModel location="5:14-5:23" name="CompanyMM" model="/0/@outModels.0"/>
  <ocl:OclModel location="5:34-5:44" name="OrgchartMM" model="/0/@inModels.0"/>
  <ocl:OclModel location="7:28-7:37" name="CompanyMM" elements="/0/@elements.0/@definition/@feature/@type"/>
  <ocl:OclModel location="9:29-9:38" name="CompanyMM" elements="/0/@elements.1/@definition/@feature/@returnType/@elementType"/>
  <ocl:OclModel location="9:46-9:56" name="OrgchartMM" elements="/0/@elements.1/@definition/@feature/@body/@source"/>
  <ocl:OclModel location="14:10-14:20" name="OrgchartMM" elements="/0/@elements.2/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="15:8-15:17" name="CompanyMM" elements="/0/@elements.2/@outPattern/@elements.0/@type"/>
  <ocl:OclModel location="19:13-19:22" name="CompanyMM" elements="/0/@elements.2/@outPattern/@elements.1/@type"/>
  <ocl:VariableDeclaration location="26:3-26:13" varName="thisModule" variableExp="/0/@elements.2/@actionBlock/@statements.0/@source/@source"/>
  <ocl:OclModel location="36:10-36:20" name="OrgchartMM" elements="/0/@elements.3/@inPattern/@elements.0/@type"/>
  <ocl:OclModel location="36:47-36:57" name="OrgchartMM" elements="/0/@elements.3/@inPattern/@filter/@source/@arguments.0"/>
  <ocl:OclModel location="38:8-38:17" name="CompanyMM" elements="/0/@elements.3/@outPattern/@elements.0/@type"/>
  <ocl:VariableDeclaration location="41:11-41:21" varName="thisModule" variableExp="/0/@elements.3/@outPattern/@elements.0/@bindings.2/@value/@source"/>
</xmi:XMI>
